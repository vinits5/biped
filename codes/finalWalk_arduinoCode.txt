#include <Servo.h> 
 
Servo LAR;  
Servo RAR;
Servo LAP;
Servo RAP;
Servo LKP;
Servo RKP;
Servo LHP;
Servo RHP;

int Delay=100;

//phase1 angles
int LhipU1[]={77, 76.9334072166055, 76.7341356777136, 76.4037019600587, 75.9446208637534, 75.3603862731414, 74.6554445662277, 73.8351607750574, 72.9057777545821, 71.8743686707646, 70.7487831695144, 69.5375876361433, 68.2500000000000, 66.8958195804622, 65.4853525081992, 64.0293332892941, 62.5388431091713, 61.0252254980840, 59.5000000000000, 57.9747745019160, 56.4611568908287, 54.9706667107059, 53.5146474918008, 52.1041804195378, 50.7500000000000, 49.4624123638567, 48.2512168304856, 47.1256313292354, 46.0942222454179, 45.1648392249426, 44.3445554337723, 43.6396137268586, 43.0553791362466, 42.5962980399413, 42.2658643222864, 42.0665927833945, 42};
int LankleU1[]={121, 120.950531075193, 120.802500789159, 120.557035741758, 120.216004070217, 119.782001231476, 119.258330249198, 118.648976575757, 117.958577760547, 117.192388155425, 116.356238925925, 115.456493672564, 114.500000000000, 113.494037402629, 112.446261863234, 111.364647586333, 110.257426309670, 109.133024655720, 108, 106.866975344280, 105.742573690330, 104.635352413667, 103.553738136766, 102.505962597371, 101.500000000000, 100.543506327436, 99.6437610740750, 98.8076118445749, 98.0414222394533, 97.3510234242431, 96.7416697508023, 96.2179987685236, 95.7839959297832, 95.4429642582421, 95.1974992108413, 95.0494689248073, 95};
int LkneeU1[]={34, 33.9828761414129, 33.9316348885549, 33.8466662183008, 33.7286167935366, 33.5783850416649, 33.3971143170300, 33.1861841993005, 32.9471999940354, 32.6819805153395, 32.3925442435894, 32.0810939635797, 31.7500000000000, 31.4017821778331, 31.0390906449655, 30.6646857029613, 30.2814167995012, 29.8922008423645, 29.5000000000000, 29.1077991576355, 28.7185832004988, 28.3353142970387, 27.9609093550345, 27.5982178221669, 27.2500000000000, 26.9189060364203, 26.6074557564106, 26.3180194846605, 26.0528000059646, 25.8138158006995, 25.6028856829700, 25.4216149583351, 25.2713832064634, 25.1533337816992, 25.0683651114451, 25.0171238585871, 25};
int LhipD1[]={42, 42.0475662738532, 42.1899030873474, 42.4259271713867, 42.7538422401761, 43.1711526620419, 43.6746824526945, 44.2605994463876, 44.9244444610128, 45.6611652351682, 46.4651548789183, 47.3302945456119, 48.2500000000000, 49.2172717282413, 50.2247482084291, 51.2647619362185, 52.3293977791634, 53.4105532156543, 54.5000000000000, 55.5894467843457, 56.6706022208366, 57.7352380637815, 58.7752517915709, 59.7827282717587, 60.7500000000000, 61.6697054543881, 62.5348451210817, 63.3388347648318, 64.0755555389872, 64.7394005536124, 65.3253175473055, 65.8288473379581, 66.2461577598239, 66.5740728286134, 66.8100969126526, 66.9524337261468, 67};
int LankleD1[]={95, 95.0304424152660, 95.1215379759023, 95.2725933896875, 95.4824590337127, 95.7495377037068, 96.0717967697245, 96.4467836456881, 96.8716444550482, 97.3431457505076, 97.8576991225077, 98.4113885091916, 99, 99.6190539060744, 100.263838853395, 100.929447639180, 101.610814578665, 102.302754058019, 103, 103.697245941981, 104.389185421335, 105.070552360820, 105.736161146605, 106.380946093926, 107, 107.588611490808, 108.142300877492, 108.656854249492, 109.128355544952, 109.553216354312, 109.928203230276, 110.250462296293, 110.517540966287, 110.727406610313, 110.878462024098, 110.969557584734, 111};
int LkneeD1[]={25, 25.0171238585871, 25.0683651114451, 25.1533337816992, 25.2713832064634, 25.4216149583351, 25.6028856829700, 25.8138158006995, 26.0528000059646, 26.3180194846605, 26.6074557564106, 26.9189060364203, 27.2500000000000, 27.5982178221669, 27.9609093550345, 28.3353142970387, 28.7185832004988, 29.1077991576355, 29.5000000000000, 29.8922008423645, 30.2814167995012, 30.6646857029613, 31.0390906449655, 31.4017821778331, 31.7500000000000, 32.0810939635797, 32.3925442435894, 32.6819805153395, 32.9471999940354, 33.1861841993005, 33.3971143170300, 33.5783850416649, 33.7286167935366, 33.8466662183008, 33.9316348885549, 33.9828761414129, 34};
int Rhip1[]={125, 124.980973490459, 124.924038765061, 124.829629131445, 124.698463103930, 124.531538935183, 124.330127018922, 124.095760221445, 123.830222215595, 123.535533905933, 123.213938048433, 122.867882181755, 122.500000000000, 122.113091308704, 121.710100716628, 121.294095225513, 120.868240888335, 120.435778713738, 120, 119.564221286262, 119.131759111665, 118.705904774487, 118.289899283372, 117.886908691297, 117.500000000000, 117.132117818245, 116.786061951567, 116.464466094067, 116.169777784405, 115.904239778555, 115.669872981078, 115.468461064817, 115.301536896070, 115.170370868555, 115.075961234939, 115.019026509541, 115};
int Rankle1[]={66.5000000000000, 66.4809734904587, 66.4240387650610, 66.3296291314453, 66.1984631039295, 66.0315389351833, 65.8301270189222, 65.5957602214450, 65.3302222155949, 65.0355339059327, 64.7139380484327, 64.3678821817552, 64, 63.6130913087035, 63.2101007166284, 62.7940952255126, 62.3682408883347, 61.9357787137383, 61.5000000000000, 61.0642212862617, 60.6317591116653, 60.2059047744874, 59.7898992833717, 59.3869086912965, 59, 58.6321178182448, 58.2860619515673, 57.9644660940673, 57.6697777844051, 57.4042397785550, 57.1698729810778, 56.9684610648168, 56.8015368960705, 56.6703708685547, 56.5759612349390, 56.5190265095413, 56.5000000000000};

//phase2 angles
int RhipU2[]={115, 115.066592783394, 115.265864322286, 115.596298039941, 116.055379136247, 116.639613726859, 117.344555433772, 118.164839224943, 119.094222245418, 120.125631329235, 121.251216830486, 122.462412363857, 123.750000000000, 125.104180419538, 126.514647491801, 127.970666710706, 129.461156890829, 130.974774501916, 132.500000000000, 134.025225498084, 135.538843109171, 137.029333289294, 138.485352508199, 139.895819580462, 141.250000000000, 142.537587636143, 143.748783169514, 144.874368670765, 145.905777754582, 146.835160775057, 147.655444566228, 148.360386273141, 148.944620863753, 149.403701960059, 149.734135677714, 149.933407216606, 150};
int RankleU2[]={56.5000000000000, 56.5494689248073, 56.6974992108413, 56.9429642582421, 57.2839959297832, 57.7179987685236, 58.2416697508023, 58.8510234242431, 59.5414222394533, 60.3076118445749, 61.1437610740750, 62.0435063274364, 63, 64.0059625973709, 65.0537381367663, 66.1353524136672, 67.2425736903299, 68.3669753442805, 69.5000000000000, 70.6330246557196, 71.7574263096701, 72.8646475863328, 73.9462618632337, 74.9940374026291, 76, 76.9564936725636, 77.8562389259250, 78.6923881554251, 79.4585777605467, 80.1489765757569, 80.7583302491977, 81.2820012314764, 81.7160040702168, 82.0570357417579, 82.3025007891587, 82.4505310751927, 82.5000000000000};
int RkneeU2[]={153, 153.017123858587, 153.068365111445, 153.153333781699, 153.271383206463, 153.421614958335, 153.602885682970, 153.813815800700, 154.052800005965, 154.318019484661, 154.607455756411, 154.918906036420, 155.250000000000, 155.598217822167, 155.960909355035, 156.335314297039, 156.718583200499, 157.107799157636, 157.500000000000, 157.892200842364, 158.281416799501, 158.664685702961, 159.039090644966, 159.401782177833, 159.750000000000, 160.081093963580, 160.392544243589, 160.681980515339, 160.947199994035, 161.186184199300, 161.397114317030, 161.578385041665, 161.728616793537, 161.846666218301, 161.931634888555, 161.982876141413, 162};
int RhipD2[]={150, 149.952433726147, 149.810096912653, 149.574072828613, 149.246157759824, 148.828847337958, 148.325317547305, 147.739400553612, 147.075555538987, 146.338834764832, 145.534845121082, 144.669705454388, 143.750000000000, 142.782728271759, 141.775251791571, 140.735238063782, 139.670602220837, 138.589446784346, 137.500000000000, 136.410553215654, 135.329397779163, 134.264761936219, 133.224748208429, 132.217271728241, 131.250000000000, 130.330294545612, 129.465154878918, 128.661165235168, 127.924444461013, 127.260599446388, 126.674682452695, 126.171152662042, 125.753842240176, 125.425927171387, 125.189903087347, 125.047566273853, 125};
int RankleD2[]={82.5000000000000, 82.4695575847340, 82.3784620240977, 82.2274066103125, 82.0175409662873, 81.7504622962932, 81.4282032302755, 81.0532163543119, 80.6283555449518, 80.1568542494924, 79.6423008774923, 79.0886114908084, 78.5000000000000, 77.8809460939256, 77.2361611466054, 76.5705523608202, 75.8891854213354, 75.1972459419813, 74.5000000000000, 73.8027540580187, 73.1108145786646, 72.4294476391798, 71.7638388533947, 71.1190539060744, 70.5000000000000, 69.9113885091916, 69.3576991225077, 68.8431457505076, 68.3716444550482, 67.9467836456881, 67.5717967697245, 67.2495377037068, 66.9824590337127, 66.7725933896875, 66.6215379759023, 66.5304424152660, 66.5000000000000};
int RkneeD2[]={162, 161.982876141413, 161.931634888555, 161.846666218301, 161.728616793537, 161.578385041665, 161.397114317030, 161.186184199300, 160.947199994035, 160.681980515339, 160.392544243589, 160.081093963580, 159.750000000000, 159.401782177833, 159.039090644966, 158.664685702961, 158.281416799501, 157.892200842364, 157.500000000000, 157.107799157636, 156.718583200499, 156.335314297039, 155.960909355035, 155.598217822167, 155.250000000000, 154.918906036420, 154.607455756411, 154.318019484661, 154.052800005965, 153.813815800700, 153.602885682970, 153.421614958335, 153.271383206463, 153.153333781699, 153.068365111445, 153.017123858587, 153};
int Lhip2[]={67, 67.0190265095413, 67.0759612349390, 67.1703708685547, 67.3015368960705, 67.4684610648168, 67.6698729810778, 67.9042397785550, 68.1697777844051, 68.4644660940673, 68.7860619515673, 69.1321178182448, 69.5000000000000, 69.8869086912965, 70.2898992833717, 70.7059047744874, 71.1317591116654, 71.5642212862617, 72, 72.4357787137383, 72.8682408883347, 73.2940952255126, 73.7101007166284, 74.1130913087035, 74.5000000000000, 74.8678821817552, 75.2139380484327, 75.5355339059327, 75.8302222155949, 76.0957602214450, 76.3301270189222, 76.5315389351833, 76.6984631039295, 76.8296291314453, 76.9240387650610, 76.9809734904587, 77};
int Lankle2[]={111, 111.019026509541, 111.075961234939, 111.170370868555, 111.301536896070, 111.468461064817, 111.669872981078, 111.904239778555, 112.169777784405, 112.464466094067, 112.786061951567, 113.132117818245, 113.500000000000, 113.886908691297, 114.289899283372, 114.705904774487, 115.131759111665, 115.564221286262, 116, 116.435778713738, 116.868240888335, 117.294095225513, 117.710100716628, 118.113091308704, 118.500000000000, 118.867882181755, 119.213938048433, 119.535533905933, 119.830222215595, 120.095760221445, 120.330127018922, 120.531538935183, 120.698463103930, 120.829629131445, 120.924038765061, 120.980973490459, 121};

//Load Shifting Angles
int LankleRRight[]={82.5000000000000, 82.8407417371093, 83.8397459621556, 85.4289321881345, 87.5000000000000, 89.9118095489748, 92.5000000000000, 95.0881904510252, 97.5000000000000, 99.5710678118655, 101.160254037844, 102.159258262891, 102.500000000000};
int RankleRRight[]={90, 90.5111126056640, 92.0096189432334, 94.3933982822018, 97.5000000000000, 101.117714323462, 105, 108.882285676538, 112.500000000000, 115.606601717798, 117.990381056767, 119.488887394336, 120};
int LankleRLeft[]={82.5000000000000, 82.1592582628907, 81.1602540378444, 79.5710678118655, 77.5000000000000, 75.0881904510252, 72.5000000000000, 69.9118095489748, 67.5000000000000, 65.4289321881345, 63.8397459621556, 62.8407417371093, 62.5000000000000};
int RankleRLeft[]={90, 89.6592582628907, 88.6602540378444, 87.0710678118655, 85, 82.5881904510252, 80, 77.4118095489748, 75, 72.9289321881345, 71.3397459621556, 70.3407417371093, 70};

void setup() {
  // put your setup code here, to run once:

  //Attach Servo
  LAR.attach(3);
  RAR.attach(4);
  LAP.attach(5);
  RAP.attach(6);
  LKP.attach(7);
  RKP.attach(9);
  LHP.attach(10);
  RHP.attach(11);

  //Brind it to Knee Bendign Position
  LHP.write(67);
  LKP.write(34); 
  LAP.write(111);
  RHP.write(125);
  RKP.write(153);
  RAP.write(66.5);
  RAR.write(90);
  LAR.write(82.5);
  delay(1000);
  
  int i;
  
  //Load Shift to Right Leg
  for(i=0; i<13; i=i+1){
    RAR.write(RankleRRight[i]);
    LAR.write(LankleRRight[i]);
    delay(50);
  }
  delay(Delay);
  
  //Left leg up and forward
  for(i=36; i>=0; i=i-1){
    LHP.write(LhipD1[i]);
    LKP.write(LkneeD1[i]);
    LAP.write(LankleD1[i]);
    delay(20);
  }
  delay(Delay);
  
  //Left leg down and right leg forward
  for(i=0; i<37; i=i+1){
    LHP.write(LhipD1[i]);
    LKP.write(LkneeD1[i]);
    LAP.write(LankleD1[i]);
    RHP.write(Rhip1[i]);
    RAP.write(Rankle1[i]);
    delay(20);
  }
  delay(Delay);
  
  //Load at Center
  for (i=12; i>=0; i=i-1){
    RAR.write(RankleRRight[i]);
    LAR.write(LankleRRight[i]);
    delay(20);
  }
  delay(Delay);
  
  //Load at left Leg
  for(i=0; i<13; i=i+1){
    RAR.write(RankleRLeft[i]);
    LAR.write(LankleRLeft[i]);
    delay(20);
  }
  delay(Delay);
  
  //Right leg up and forward
  for(i=0; i<37; i=i+1){
    RHP.write(RhipU2[i]);
    RAP.write(RankleU2[i]);
    RKP.write(RkneeU2[i]);
    delay(20);
  }
  delay(Delay);
  
  //Right leg down and left leg forward
  for(i=0; i<37; i=i+1){
    RHP.write(RhipD2[i]);
    RKP.write(RkneeD2[i]);
    RAP.write(RankleD2[i]);
    LHP.write(Lhip2[i]);
    LAP.write(Lankle2[i]);
    delay(20);
  }
  delay(Delay);
  
  //Load at center
  for(i=12; i>=0; i=i-1){
    RAR.write(RankleRLeft[i]);
    LAR.write(LankleRLeft[i]);
    delay(20);
  }
  
  //Loop to make biped walk
  int j;
  for(j=0; j<3; j=j+1){
    //Load Shift to Right Leg
    for(i=0; i<13; i=i+1){
      RAR.write(RankleRRight[i]);
      LAR.write(LankleRRight[i]);
      delay(50);
    }
    delay(Delay);
    
    //Left leg up and forward
    for(i=0; i<37; i=i+1){
      LHP.write(LhipU1[i]);
      LKP.write(LkneeU1[i]);
      LAP.write(LankleU1[i]);
      delay(20);
    }
    delay(Delay);
    
    //Left leg down and right leg forward
    for(i=0; i<37; i=i+1){
      LHP.write(LhipD1[i]);
      LKP.write(LkneeD1[i]);
      LAP.write(LankleD1[i]);
      RHP.write(Rhip1[i]);
      RAP.write(Rankle1[i]);
      delay(20);
    }
    delay(Delay);
    
    //Load at Center
    for (i=12; i>=0; i=i-1){
      RAR.write(RankleRRight[i]);
      LAR.write(LankleRRight[i]);
      delay(20);
    }
    delay(Delay);
    
    //Load at left Leg
    for(i=0; i<13; i=i+1){
      RAR.write(RankleRLeft[i]);
      LAR.write(LankleRLeft[i]);
      delay(20);
    }
    delay(Delay);
    
    //Right leg up and forward
    for(i=0; i<37; i=i+1){
      RHP.write(RhipU2[i]);
      RAP.write(RankleU2[i]);
      RKP.write(RkneeU2[i]);
      delay(20);
    }
    delay(Delay);
    
    //Right leg down and left leg forward
    for(i=0; i<37; i=i+1){
      RHP.write(RhipD2[i]);
      RKP.write(RkneeD2[i]);
      RAP.write(RankleD2[i]);
      LHP.write(Lhip2[i]);
      LAP.write(Lankle2[i]);
      delay(20);
    }
    delay(Delay);
    
    //Load at center
    for(i=12; i>=0; i=i-1){
      RAR.write(RankleRLeft[i]);
      LAR.write(LankleRLeft[i]);
      delay(20);
    }
  }
}

void loop() {
  // put your main code here, to run repeatedly:

}